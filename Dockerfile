# Используем базовый образ Maven с поддержкой JDK 21
FROM maven:3.8.5-eclipse-temurin-21

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем все файлы проекта в рабочую директорию
COPY . .

# Скачиваем зависимости и собираем проект
RUN mvn clean package

# Выполняем тесты при запуске контейнера
CMD ["mvn", "test"]